{"version":3,"sources":["helpers/helpers.js","components/Meal.js","services/Meals.js","services/Recipes.js","services/Users.js","components/MealForm.js","config.js","pages/WeeklyCalendar.js","services/Ingredients.js","services/Units.js","components/RecipeForm.js","components/RecipeFormModal.js","components/Recipe.js","pages/Recipes.js","components/Notification.js","services/Auth.js","pages/LoginForm.js","pages/SignUpForm.js","pages/Account.js","App.js","index.js"],"names":["str","maxLength","length","substring","Meal","meal","toggleModal","shortenString","helpers","onDragStart","e","dataTransfer","setData","target","id","dropEffect","onClick","className","JSON","stringify","draggable","recipe_name","style","backgroundColor","tag_color","assigned_to_name","baseUrl","axios","defaults","withCredentials","methods","getAll","a","req","get","then","response","data","create","newMeal","post","update","put","remove","delete","getIngredients","ID","newRecipe","updatedRecipe","user","MealForm","displayMessage","meals","setMeals","weekdays","mealConfig","setIsOpen","useState","editMode","day","setDay","mealType","setMealType","recipes","setRecipes","recipe","setRecipe","setUser","users","setUsers","useEffect","Recipes","recipe_id","value","type","Users","assigned_to","first_name","onChange","map","weekday","label","mealObj","name","find","toString","getAndSetUser","preventDefault","recipeObj","r","Meals","updatedMeals","filter","m","concat","catch","err","console","log","config","_getLabels","prop","this","obj","replace","toUpperCase","WeeklyCalendar","show","isOpen","setMeal","weekdayConfig","weekdayLabels","mealLabels","dropHandler","stopPropagation","parse","getData","movedMeal","currentTarget","some","dragOverHandler","calendarStyle","gridTemplateColumns","n","join","gridTemplateRows","weekDays","unshift","generateHeader","indexOf","onDrop","onDragOver","onDoubleClick","generateMealTypeLane","onRequestClose","contentLabel","content","position","zIndex","width","margin","height","newIngredient","RecipeForm","recipeID","showForm","toggleForm","setName","units","setUnits","ingredients","setIngredients","ingredientOptions","setIngredientOptions","duration","setDuration","instructions","setInstructions","Units","Ingredients","options","i","preparation_time","onCreateOption","createdIngredient","placeholder","isMulti","isSearchable","listStyle","borderBottom","border","marginRight","step","quantity","q","parseFloat","populateQuantity","paddingLeft","webkitAppearance","unit","populateUnit","u","rows","cols","Number","updatedRecipes","updateRecipe","createRecipe","deleteRecipe","RecipeFormModal","props","shouldCloseOnOverlayClick","onAfterClose","selectRecipe","selectedRecipe","Recipe","class","RecipesList","setFilter","toLowerCase","marginLeft","display","gridGap","Notification","message","register","newUser","login","logout","resetPassword","body","LoginForm","setPage","username","setUsername","password","setPassword","onSubmit","Auth","window","localStorage","setItem","SignUpForm","firstName","setFirstName","email","setEmail","Account","formFields","setFormFields","userDetails","setUserDetails","setEditMode","enableEditing","event","previousElementSibling","disabled","newState","parentElement","handleChange","fieldName","newValue","saveChanges","oldValue","updateBody","new_password","newUserDetails","oldFormFields","loggedInUser","getItem","fields","household_name","App","page","setMessage","secondsDuration","setTimeout","Provider","size","removeItem","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0e18cdfe.chunk.js","sourcesContent":["const extractToken = () => {\r\n    let user = JSON.parse(window.localStorage.getItem('loggedInUser')) \r\n    const token = user ? user.token : null\r\n    return token\r\n}\r\n\r\nconst createAuthHeader = () => {\r\n    var token = extractToken();\r\n    if (token) {\r\n    return { headers:  {\r\n        authorization: 'bearer ' + extractToken()\r\n    } \r\n}\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n\r\n\r\nconst shortenString = (str, maxLength) => {\r\n    if (str.length > maxLength) {\r\n        return str.substring(0, maxLength) + '...'\r\n    } else {\r\n        return str;\r\n    }\r\n}\r\n\r\nconst debounce = (callback, wait) => {\r\n    let timeout;\r\n    return (...args) => {\r\n        clearTimeout(timeout)\r\n        let context = this;\r\n        timeout = setTimeout(() => {\r\n            callback.apply(context, args)\r\n        }, wait);\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default { extractToken, createAuthHeader, shortenString, debounce }\r\n\r\n","import helpers from '../helpers/helpers'\r\n\r\nconst Meal = ({ meal, toggleModal }) => {\r\n  const dragStartHandler = (e) => {\r\n    e.dataTransfer.setData(\"text/plain\", e.target.id);\r\n    e.dataTransfer.dropEffect = \"move\";\r\n  };\r\n\r\nconst { shortenString } = helpers\r\n\r\n  return (\r\n    <div\r\n      onDragStart={dragStartHandler}\r\n      onClick={toggleModal}\r\n      className=\"meal-card\"\r\n      id={JSON.stringify(meal)}\r\n      draggable=\"true\"\r\n    >\r\n      {\r\n        shortenString(meal.recipe_name, 30)\r\n      }\r\n      <div className=\"meal-card-body\">\r\n        <span className=\"meal-assigned-to\" style={{backgroundColor: meal.tag_color}}>{meal.assigned_to_name}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Meal;\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/meals'\r\n\r\naxios.defaults.withCredentials = true\r\n\r\nconst getAll = async () => {\r\n    const req = axios.get(`${baseUrl}`)\r\n    return req.then(response => response.data)\r\n}\r\n\r\nconst create = async (newMeal) => {\r\n    const req = axios.post(`${baseUrl}`, newMeal)\r\n    return req.then(response => response.data)\r\n}\r\n\r\nconst update = async (meal, id) => {\r\n    const req = axios.put(`${baseUrl}/${id}`, meal)\r\n    return req.then(response => response.data)\r\n}\r\n\r\n\r\nconst remove = async (id) => {\r\n   const req = axios.delete(`${baseUrl}/${id}`, )\r\n   return req.then(response => response.data)\r\n}\r\n\r\nconst methods = {\r\n    getAll,\r\n    create,\r\n    update,\r\n    remove\r\n}\r\n\r\nexport default methods\r\n","import axios from 'axios'\r\n\r\n\r\nconst baseUrl = '/api/recipes'\r\n\r\n\r\n\r\nconst getAll = async () => {\r\n\r\n    const req = axios.get(`${baseUrl}`);\r\n    return req.then(response => response.data)\r\n}\r\n\r\nconst getIngredients = async (ID) => {\r\n    const req = axios.get(`${baseUrl}/${ID}/ingredients`)\r\n    return req.then(response => response.data)\r\n}\r\n\r\nconst get = async (ID) => {\r\n    const req = axios.get(`${baseUrl}/${ID}`);\r\n    return req.then(response => response.data)\r\n}\r\n\r\nconst create = async (newRecipe) => {\r\n    const req = axios.post(`${baseUrl}`, newRecipe)\r\n    return req.then(response => response.data)\r\n}\r\n\r\nconst update = async (ID, updatedRecipe) => {\r\n    const req = axios.put(`${baseUrl}/${ID}`, updatedRecipe)\r\n    return req.then(response => response.data)\r\n}\r\n\r\nconst remove = async (ID) => {\r\n    const req = axios.delete(`${baseUrl}/${ID}`)\r\n    return req.then(response => response.data)\r\n}\r\n\r\nconst methods = { getAll, getIngredients, get, create, update, remove } \r\n\r\n\r\nexport default methods","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/users'\r\n\r\naxios.defaults.withCredentials = true\r\n\r\n\r\nconst getAll = async () => {\r\n    const req = axios.get(`${baseUrl}`)\r\n    return req.then(response => response.data)\r\n}\r\n\r\nconst get = async (ID) => {\r\n    const req = axios.get(`${baseUrl}/${ID}`)\r\n    return req.then(response => response.data)\r\n}\r\n\r\nconst create = async (user) => {\r\n    const req = axios.post(`${baseUrl}`, user)\r\n    return req.then(response => response.data)\r\n}\r\n\r\nconst update = async (ID, user) => {\r\n    const req = axios.put(`${baseUrl}/${ID}`, user)\r\n    return req.then(response => response.data)\r\n}\r\n\r\nconst methods = {\r\n    getAll,\r\n    get,\r\n    create,\r\n    update\r\n}\r\n\r\nexport default methods\r\n","import { useState, useEffect } from \"react\";\r\nimport Meals from \"../services/Meals\";\r\nimport Recipes from \"../services/Recipes\";\r\nimport Users from \"../services/Users\";\r\n\r\nconst MealForm = ({ displayMessage, meal, meals, setMeals, weekdays, mealConfig, setIsOpen }) => {\r\n\r\n  const [editMode, setEditMode] = useState(meal.id ? true : false)\r\n  const [day, setDay] = useState(\"\");\r\n  const [mealType, setMealType] = useState(\"\");\r\n  const [recipes, setRecipes] = useState([]);\r\n  const [recipe, setRecipe] = useState(\"\");\r\n  const [user, setUser] = useState(\"\");\r\n  const [users, setUsers] = useState([]);\r\n  \r\n\r\n\r\n  const getAndSetUser = (id) => {    \r\n    const user = users.find((user) => user.id.toString() === id.toString())    \r\n    setUser(user)\r\n  }\r\n\r\n  const submit = (e) => {\r\n    e.preventDefault();\r\n    const recipeObj = recipes.find((r) => r.id.toString() === recipe.toString());\r\n    if (!recipeObj) {\r\n      displayMessage('Cannot create a meal without a recipe. Please create a recipe first', 'error', 5)\r\n      return;\r\n    }\r\n    const newMeal = {\r\n      day: day,\r\n      type: mealType.value ? mealType.value : mealType,\r\n      recipe_id: recipe,\r\n      recipe_name: recipeObj.name,\r\n      assigned_to: user.id,\r\n      assigned_to_name: user.first_name,\r\n      tag_color: user.tag_color\r\n    };\r\n\r\n    \r\n\r\n    if (!editMode) {\r\n      Meals.create(newMeal)\r\n        .then((data) => {\r\n          newMeal.id = data[0].id\r\n          const updatedMeals = meals.concat(newMeal);\r\n          setMeals(updatedMeals);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"something went wrong with creating a meal\", err);\r\n        });\r\n    } else {\r\n      Meals.update(newMeal, meal.id)\r\n        .then(() => {\r\n          newMeal.id = meal.id;\r\n          const updatedMeals = meals\r\n            .filter((m) => m.id.toString() !== meal.id.toString())\r\n            .concat(newMeal);\r\n          setMeals(updatedMeals);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"something went wrong with updating a meal\", err);\r\n        });\r\n    }\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const remove = (e) => {\r\n    e.preventDefault();\r\n    Meals.remove(meal.id)\r\n      .then(() => {\r\n        const updatedMeals = meals.filter((m) => m.id.toString() !== meal.id.toString());\r\n        setMeals(updatedMeals);\r\n        setIsOpen(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"something went wrong with removing a meal\", err);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n/**\r\n * We're fetching all the recipes to populate the list  \r\n * If we're editing an existing meal, we set the default state\r\n * based on its values\r\n * Same goes for users\r\n */\r\n\r\n    Recipes.getAll().then((data) => {\r\n      setRecipes(data);\r\n      if (editMode) {\r\n        setRecipe(meal.recipe_id);\r\n      } else if (data.length > 0) {\r\n        setRecipe(data[0].id);\r\n      }\r\n    });\r\n    setDay(meal.day);\r\n    setMealType(meal.meal ? meal.meal.value : meal.type);\r\n\r\n    Users.getAll().then((data) => {\r\n      setUsers(data)\r\n      if (editMode) {\r\n      setUser({id: meal.assigned_to, first_name: meal.assigned_to_name});\r\n    } else if (data.length > 0) {\r\n    setUser(data[0])\r\n        }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"form-container\">\r\n      <div className=\"form-wrapper\" id=\"meal-form-wrapper\">\r\n        <h2>{!meal.id ? \"Create new meal\" : \"Update meal\"}</h2>\r\n        <form className=\"meal-form\">\r\n          <div>\r\n            <label>Weekday</label>\r\n            <select value={day} onChange={({ target }) => setDay(target.value)}>\r\n              {weekdays.map((weekday) => (\r\n                <option key={weekday.value} value={weekday.value}>{weekday.label}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label>Meal</label>\r\n            <select\r\n              value={mealType}\r\n              onChange={({ target }) => setMealType(target.value)}\r\n            >\r\n            {mealConfig.map(mealObj => <option key={mealObj.value} value={mealObj.value}>{mealObj.label}</option>)}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label>Recipe</label>\r\n            <select\r\n              value={recipe}\r\n              onChange={({ target }) => setRecipe(target.value)}\r\n            >\r\n              {recipes.map((recipe) => (\r\n                <option key={recipe.id} value={recipe.id}>{recipe.name}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label>Assignee</label>\r\n            <select\r\n              value={user.id}\r\n              onChange={({ target }) => getAndSetUser(target.value)}\r\n            >\r\n              {users.map((user) => (\r\n                <option key={user.id} value={user.id}>{user.first_name}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"submit-button\" onClick={submit}>\r\n            {!meal.id ? \"Submit\" : \"Save changes\"}\r\n          </button>\r\n          {meal.id ? (\r\n            <button className=\"delete-button\" type=\"delete\" onClick={remove}>\r\n              Delete\r\n            </button>\r\n          ) : null}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MealForm;\r\n","const config = {\r\n\r\n\r\n weekdays: [{\r\n        value: \"monday\",\r\n    },\r\n    {\r\n        value: \"tuesday\",\r\n    },\r\n    {\r\n        value: \"wednesday\",\r\n    },\r\n    {\r\n        value: \"thursday\",\r\n    },\r\n    {\r\n        value: \"friday\",\r\n    },\r\n    {\r\n        value: \"saturday\",\r\n    },\r\n    {\r\n        value: \"sunday\",\r\n    },\r\n],\r\n\r\nmeals: [\r\n    {\r\n        value: \"lunch\",\r\n    },\r\n    {\r\n        value: \"dinner\",\r\n    },\r\n],\r\n\r\n_getLabels: function (prop) {\r\n        return this[prop].map((obj) => {\r\n            obj['label'] = obj.value.replace(/^\\w{1}/, obj.value[0].toUpperCase())\r\n            return obj\r\n        });\r\n    },\r\n\r\n    get weekdayLabels() {\r\n        return this._getLabels('weekdays');\r\n    },\r\n\r\n    get mealLabels() {\r\n        return this._getLabels('meals');\r\n    },\r\n}\r\n\r\nexport default config","import Meal from \"../components/Meal\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Meals from \"../services/Meals\";\r\nimport Modal from \"react-modal\";\r\nimport MealForm from \"../components/MealForm\";\r\nimport config from '../config'\r\n\r\nconst WeeklyCalendar = ({ displayMessage, show }) => {\r\n\r\nconst [meals, setMeals] = useState([]);\r\nconst [isOpen, setIsOpen] = useState(false);\r\nconst [meal, setMeal] = useState(\"\");\r\n\r\n\r\n  const weekdayConfig = config.weekdayLabels\r\n\r\n  const mealConfig = config.mealLabels\r\n\r\n\r\n  const modalStyle = {\r\n    content: {\r\n      position: 'fixed',\r\n      zIndex:2,\r\n      width: \"45%\",\r\n      margin: \"auto\",\r\n      height: \"28rem\",\r\n    },\r\n  };\r\n\r\n  \r\n\r\n  const dropHandler = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    // get the dragged meal object from state\r\n    const mealObj = JSON.parse(e.dataTransfer.getData(\"text/plain\"));\r\n    const movedMeal = meals.find((meal) => meal.id === mealObj.id);\r\n    \r\n    // update meal object with new day and meal type details\r\n    const target = JSON.parse(e.currentTarget.id);\r\n    if (meals.some(meal => meal.day === target.day && meal.type === target.meal.value))\r\n      return\r\n\r\n      movedMeal[\"day\"] = target[\"day\"];\r\n    movedMeal[\"type\"] = target[\"meal\"][\"value\"];\r\n    // Generate new meals array and update state\r\n    const updatedMeals = meals\r\n      .filter((meal) => meal.id !== movedMeal.id)\r\n      .concat(movedMeal);\r\n    setMeals(updatedMeals);\r\n    Meals.update(movedMeal, movedMeal.id);\r\n  };\r\n\r\n  const dragOverHandler = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    e.dataTransfer.dropEffect = \"move\";\r\n  };\r\n\r\n  const toggleModal = (e) => {\r\n    if (!isOpen) {\r\n      const meal = JSON.parse(e.currentTarget.id);\r\n      setMeal(meal);\r\n      setIsOpen(true);\r\n    } else {\r\n      setIsOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n    Meals.getAll()\r\n    .then((data) => {      \r\n      setMeals(data);\r\n    }).catch(err => {\r\n      displayMessage(\"We're having trouble retrieving your meal plan. Please try again later\", \"error\", 5)\r\n      \r\n    })\r\n    }\r\n  }, [show]);\r\n\r\n  const calendarStyle = {\r\n    gridTemplateColumns: `3fr ${weekdayConfig.map((n) => \"5fr\").join(\" \")}`,\r\n    gridTemplateRows: `50px ${mealConfig.map((n) => \"150px\").join(\" \")}`,\r\n  };\r\n\r\n  const generateHeader = () => {\r\n    // Make a copy and create one empty slot\r\n    const weekDays = weekdayConfig.map((day) => day);\r\n    weekDays.unshift(\"\");\r\n    return weekDays.map((weekday) => (\r\n      <div key={weekday.value} className=\"calendar-heading\" id={weekday.value}>\r\n        {weekday.label}\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  const generateMealTypeLane = (meal) => {\r\n    const weekDays = weekdayConfig.map((day) => day);\r\n    weekDays.unshift(meal);\r\n    return weekDays.map((weekday) =>\r\n      weekDays.indexOf(weekday) === 0 ? (\r\n        <div key={weekday.value}>\r\n          <p>{weekday.label}</p>\r\n        </div>\r\n      ) : (\r\n        <div key={weekday.value}\r\n          className=\"meal-slot\"\r\n          id={JSON.stringify({\r\n            day: weekday.value,\r\n            meal: {\r\n              value: meal.value,\r\n              label: meal.label,\r\n            },\r\n          })}\r\n          onDrop={dropHandler}\r\n          onDragOver={dragOverHandler}\r\n          onDoubleClick={toggleModal}\r\n        >\r\n          {meals\r\n            .filter(\r\n              (mealObj) =>\r\n                mealObj.day === weekday.value && mealObj.type === meal.value\r\n            )\r\n            .map((meal) => {\r\n              return <Meal meal={meal} toggleModal={toggleModal} />;\r\n            })}\r\n\r\n           <span id=\"create-new-meal\">Double click to create new meal</span> \r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  if (!show) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"calendar\" style={calendarStyle}>\r\n      {generateHeader()}\r\n      {mealConfig.map((meal) => generateMealTypeLane(meal))}\r\n\r\n      <Modal\r\n        isOpen={isOpen}\r\n        onRequestClose={toggleModal}\r\n        contentLabel=\"Uusi ateria\"\r\n        style={modalStyle}\r\n      >\r\n        <span className=\"modal-close\" onClick={toggleModal}>\r\n          X\r\n        </span>\r\n        <MealForm\r\n          displayMessage={displayMessage}\r\n          meal={meal}\r\n          meals={meals}\r\n          setMeals={setMeals}\r\n          weekdays={weekdayConfig}\r\n          mealConfig={mealConfig}\r\n          setIsOpen={setIsOpen}\r\n        />\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WeeklyCalendar;\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/ingredients'\r\n\r\n\r\nconst getAll = async () => {\r\n    const req = axios.get(`${baseUrl}`);\r\n    return req.then(response => response.data)\r\n}\r\n\r\nconst get = async (ID) => {\r\n    const req = axios.get(`${baseUrl}/${ID}`);\r\n    return req.then(response => response.data)\r\n}\r\n\r\nconst create = async (newIngredient) => {\r\n    const req = axios.post(`${baseUrl}`, newIngredient)\r\n    return req.then(response => response.data)\r\n}\r\n\r\nconst methods = { getAll, get, create }\r\n\r\nexport default methods","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/units'\r\n\r\n\r\nconst getAll = async () => {\r\n    const req = axios.get(`${baseUrl}`);\r\n    return req.then(response => response.data)\r\n}\r\n\r\nconst get = async (ID) => {\r\n    const req = axios.get(`${baseUrl}/${ID}`);\r\n    return req.then(response => response.data)\r\n}\r\n\r\n\r\nconst methods = { getAll, get }\r\n\r\nexport default methods","import {useEffect, useState} from 'react'\r\nimport Recipes from '../services/Recipes'\r\nimport Ingredients from '../services/Ingredients'\r\nimport Units from '../services/Units'\r\nimport CreatableSelect from 'react-select/creatable';\r\n\r\nconst RecipeForm = ({ displayMessage, toggleModal, recipes, setRecipes, recipeID }) => {\r\n    const [showForm, toggleForm] = useState(true)\r\n    const [recipe, setRecipe] = useState(recipeID ? recipes.find(r => r.id.toString() === recipeID) : null)\r\n    const [name, setName] = useState()\r\n    const [units, setUnits] = useState([])\r\n    const [ingredients, setIngredients] = useState([])\r\n    const [ingredientOptions, setIngredientOptions] = useState([])\r\n    const [duration, setDuration] = useState('')\r\n    const [instructions, setInstructions] = useState('')\r\n\r\n\r\n/**\r\n * Ingredient options are fetched and default quantities and units need to be populated\r\n */\r\n\r\nuseEffect(() => {\r\nUnits.getAll().then(data => {\r\n    setUnits(data);\r\n}).catch(err => {\r\n    console.log(err);\r\n})\r\n\r\n Ingredients.getAll().then(data => {\r\n     const options = data.map(i => {\r\n         return {'value': i.value, 'label': i.label, 'quantity': 1, 'unit': 'tl'}\r\n     })\r\n     setIngredientOptions(options);\r\n }).catch(err => {\r\n      console.log(err);\r\n     displayMessage('Something went wrong with fetching ingredients', 'error', 5)\r\n    })\r\n\r\n /**\r\n  * I an existing recipe is opened, we populate existing values. Form is not shown by default\r\n  * \r\n  */\r\n   if (recipe) {\r\n        toggleForm(false)\r\n         setName(recipe.name)\r\n         setDuration(recipe.preparation_time)\r\n         setInstructions(recipe.instructions)\r\n         Recipes.getIngredients(recipe.id).then(data => {\r\n            setIngredients(data)\r\n         }).catch(err => {\r\n            console.log(err);\r\n             displayMessage('Something went wrong with fetching ingredients', 'error', 5)\r\n         })\r\n    \r\n   }\r\n}, [recipe])\r\n\r\n\r\n\r\n\r\n/**\r\n * Populating ingredients state with the quantity and unit data each time \r\n * the user modifies these\r\n */\r\n\r\nconst populateQuantity = (target) => {\r\n    const q = ingredients.map(i => {\r\n      return i.value === target.id.toString() ? \r\n      {...i, quantity: parseFloat(target.value)} : i\r\n    })\r\n    setIngredients(q)\r\n}\r\n\r\nconst populateUnit = (target) => {\r\n    const q = ingredients.map(i => {\r\n        return i.value === target.id.toString() ? {\r\n            ...i,\r\n            unit: target.value\r\n        } : i\r\n    })\r\n    setIngredients(q)\r\n}\r\n\r\nconst createRecipe = (recipe) => {\r\n    Recipes.create(recipe).then(data => {\r\n    setRecipes(recipes.concat(data[0]))\r\n setName('')\r\n setIngredients([])\r\n setDuration('')\r\n setInstructions('')\r\n toggleModal()\r\n displayMessage(`Created new recipe \"${data[0].name}\"`,\"success\", 5)\r\n }).catch(err => {\r\n     console.log(err)\r\n     displayMessage('Something went wrong with saving the recipe',\"error\", 5)\r\n  \r\n })\r\n\r\n}\r\n\r\nconst createNewIngredient = (name) => {\r\n    const newIngredient = {'name': name}\r\n    Ingredients.create(newIngredient).then(data => {\r\n       const createdIngredient =  {\r\n            'value': data[0].id,\r\n            'label': data[0].name,\r\n            'quantity': 1,\r\n            'unit': 'tl'\r\n        }\r\n      \r\n        setIngredientOptions([...ingredientOptions, createdIngredient])\r\n        setIngredients([...ingredients, createdIngredient])\r\n    }).catch(err => {\r\n        console.log(err)\r\n        displayMessage('Something went wrong with creating a new ingredient', \"error\", 5)\r\n    }) \r\n}\r\n\r\nconst updateRecipe = (id, recipe) => {\r\n    Recipes.update(id, recipe).then(data => {\r\n    const updatedRecipes = recipes.filter(r => r.id.toString() !== data[0].id.toString()).concat(data[0])\r\n    setRecipes(updatedRecipes)\r\n setName(data[0].name)\r\n setDuration(data[0].preparation_time)\r\n setInstructions(data[0].instructions)\r\n toggleModal()\r\n displayMessage(`Saved changes to \"${data[0].name}\"`,\"success\",5)\r\n }).catch(err => {\r\n     console.log(err)\r\n     displayMessage('Something went wrong with saving the recipe',\"error\", 5)\r\n })\r\n\r\n}\r\n\r\nconst deleteRecipe = (e, recipeID) => {\r\n    e.preventDefault()\r\n    Recipes.remove(recipeID).then(data => {\r\n        const updatedRecipes = recipes.filter(r => r.id.toString() !== recipeID)\r\n        setRecipes(updatedRecipes)\r\n        displayMessage('Recipe deleted','success', 5)\r\n        toggleModal()\r\n    }).catch(err => {\r\n        console.log(err)\r\n        displayMessage('Failed deleting recipe', 'error', 5)\r\n    })\r\n}\r\n\r\nconst submit = (e) => {\r\n    e.preventDefault();\r\n   const newRecipe = {\r\n       name,\r\n       ingredients,\r\n       instructions,\r\n       duration: Number(duration)\r\n   }\r\nif (!recipeID) {\r\n    createRecipe(newRecipe)\r\n} else {\r\n    updateRecipe(recipeID, newRecipe)\r\n}\r\n   \r\n\r\n}\r\n\r\nif (showForm) {\r\nreturn (\r\n  \r\n<div className=\"form-container\">\r\n<div className=\"form-wrapper\" id=\"recipe-form-wrapper\">\r\n<h2>{!recipe ? 'Create new recipe' : 'Edit recipe'}</h2>\r\n<form className=\"recipe-form\">\r\n<div>\r\n<label>\r\nName\r\n</label>\r\n<input style={{width: 520}} id=\"recipe-name\" type=\"text\" value={name} onChange={({target}) => setName(target.value)}/>\r\n</div>\r\n<div>\r\n<label>Preparation time</label>\r\n<input style={{width: 100}} id=\"preparation-time\" type=\"number\" value={duration} onChange={({target}) => setDuration(target.value)}/> min\r\n</div>\r\n<div>\r\n<label>Ingredients</label>\r\n<CreatableSelect id=\"ingredients-picker\" onCreateOption={createNewIngredient} onChange={setIngredients} value={ingredients} placeholder=\"Search ingredients\" options={ingredientOptions} isMulti={true} \r\nisSearchable={true}/>\r\n</div>\r\n<div>\r\n<ul style={{listStyle: 'none'}}>\r\n{ingredients.map(i => <li key={i.value} style={{width: '60%', borderBottom: '1px solid gray', margin: '0.5rem 0 0.5rem 0'}}> \r\n    \r\n    <input type=\"number\" style={{border: 'none', width: '3rem', marginRight: '5px'}} step=\"0.1\" id={i.value} \r\n    value={i.quantity} className=\"quantity-input\" \r\n    onChange={({ target }) => populateQuantity(target)}/>\r\n\r\n    <select className=\"unit-input\" id={i.value} style={{border: 'none', width: '2.5rem', paddingLeft: '0.5rem',\r\n    marginRight: '5px', webkitAppearance: 'none'}} value={i.unit} onChange={({target})=>populateUnit(target)}>\r\n    {units.map(u => <option value={u.name}>{u.name}</option>)}\r\n    </select>\r\n    \r\n    {i.label}\r\n    \r\n    </li>)}\r\n</ul>\r\n</div>\r\n<div>\r\n<label>Instructions</label>\r\n<textarea id=\"instructions\" rows=\"15\" cols=\"70\" value={instructions} onChange={({target}) => setInstructions(target.value)}></textarea>\r\n</div>\r\n<button className=\"submit-button\" type=\"submit\" onClick={submit}>Save</button>\r\n{recipeID ? <button className=\"delete-button\" onClick={(e) => deleteRecipe(e, recipeID)}>Delete</button> : null}\r\n</form>\r\n</div>\r\n</div>\r\n\r\n)\r\n} else {\r\n    return (\r\n        <div>\r\n        <h2>{recipe.name}</h2>\r\n        <p><strong>Preparation time:</strong> {recipe.preparation_time}</p>\r\n        <div>\r\n        <ul>\r\n        {ingredients.map(i => <li>{i.quantity} {i.unit} {i.label}</li>)}\r\n        </ul>\r\n        </div>\r\n        <p><strong>Instructions:</strong> {recipe.instructions}</p>\r\n\r\n        <button id=\"edit-recipe-button\" onClick={() => toggleForm(true)}>Edit</button>\r\n        </div>\r\n    )\r\n}\r\n\r\n}\r\n\r\nexport default RecipeForm","import Modal from 'react-modal'\r\nimport RecipeForm from './RecipeForm'\r\n\r\nconst RecipeFormModal = (props) => {\r\n\r\n    return (\r\n  <Modal\r\n        isOpen={props.isOpen}\r\n        onRequestClose={props.toggleModal}\r\n        shouldCloseOnOverlayClick={true}\r\n        contentLabel={props.label}\r\n        style={props.style}\r\n        onAfterClose={() => props.selectRecipe('')}\r\n      >\r\n       <span className='modal-close' onClick={props.toggleModal}>X</span>\r\n    <RecipeForm displayMessage={props.displayMessage} \r\n   toggleModal={props.toggleModal}\r\n   recipes={props.recipes} \r\n   setRecipes={props.setRecipes} recipeID={props.selectedRecipe}\r\n   /> \r\n       </Modal>\r\n    )\r\n}\r\n\r\nexport default RecipeFormModal","import helpers from '../helpers/helpers'\r\n\r\n\r\nconst Recipe = ( { recipe, selectRecipe, toggleModal }) => {\r\n\r\nconst { shortenString } = helpers\r\n\r\n    return (\r\n        <li class='recipes-list-card' id={recipe.id} key={recipe.id} onClick={({ currentTarget })=> {\r\n                    selectRecipe(currentTarget.id)\r\n                    toggleModal()\r\n                        \r\n                    }}>\r\n<b>{shortenString(recipe.name, 30)}</b>\r\n    <div className=\"recipe-list-card-details\">Preparation time: {recipe.preparation_time} min</div>\r\n\r\n    <span className=\"edit-recipe\"  \r\n>Click to view</span>\r\n</li>\r\n\r\n    )\r\n}\r\n\r\nexport default Recipe","import { useState, useEffect } from 'react'\r\nimport RecipeFormModal from '../components/RecipeFormModal'\r\nimport Recipes from '../services/Recipes'\r\nimport Recipe from '../components/Recipe'\r\n\r\n\r\nconst RecipesList = ( { show, displayMessage, toggleModal, isOpen } ) => {\r\n\r\nconst [recipes, setRecipes] = useState([])\r\nconst [selectedRecipe, selectRecipe] = useState('')\r\nconst [filter, setFilter] = useState('')\r\n\r\n\r\nconst gridStyle = {\r\n    display: 'grid',\r\n    gridTemplateColumns: \"repeat(auto-fill, minmax(190px, 1fr))\",\r\n//    gridTemplateRows: `50px 200px 200px`,\r\n    gridGap: '0.2rem'\r\n}\r\n\r\nconst modalStyle = {\r\n    content: {\r\n        width: '50%',\r\n        margin: 'auto',\r\n        height: 'auto',\r\n\r\n    }\r\n}\r\n\r\nuseEffect(() => {\r\n    Recipes.getAll().then(data => {\r\n        setRecipes(data)\r\n    }).catch(err => {\r\n        console.log(err)\r\n        displayMessage(\"We're having trouble fetching recipes. Please try again later\", \"error\", 5)\r\n    })\r\n}, [show])\r\n\r\n\r\n\r\nif (!show) {\r\n    return null\r\n}\r\n\r\nreturn (\r\n<div>\r\n\r\n<RecipeFormModal isOpen={isOpen} \r\ntoggleModal={toggleModal}\r\nlabel={'recipe form'} \r\nstyle={modalStyle} \r\nselectRecipe={selectRecipe}\r\nselectedRecipe={selectedRecipe}\r\nrecipes={recipes}\r\nsetRecipes={setRecipes}\r\ndisplayMessage={displayMessage}\r\n/>\r\n \r\n\r\n<input type=\"text\" className='search-box' placeholder=\"Search recipes\" \r\nonChange={({target})=> setFilter(target.value.toLowerCase())}/>\r\n\r\n<button style={{marginLeft: '1rem'}} id=\"create-recipe\" onClick={() => toggleModal()}>Create new recipe</button>\r\n\r\n\r\n<ul className='recipes-list-container' style={gridStyle}>\r\n{recipes.filter(recipe => recipe.name.toLowerCase().indexOf(filter) !== -1)\r\n    .map(recipe => <Recipe recipe={recipe} selectRecipe={selectRecipe} toggleModal={toggleModal}/>)}\r\n\r\n</ul>\r\n\r\n</div>\r\n\r\n)\r\n\r\n}\r\n\r\nexport default RecipesList","\r\n\r\nconst Notification = ({ message }) => {\r\n\r\n    if (!message) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n<div className={`message-banner banner-${message.type}`}>\r\n{message.content}\r\n</div>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\n\r\nconst baseUrl = '/api/auth'\r\n\r\n\r\nconst register = async (newUser) => {\r\n    const req = axios.post(`${baseUrl}/register`, newUser)\r\n    return req.then(response => response.data)\r\n}\r\n\r\nconst login = async (user) => {\r\n    const req = axios.post(`${baseUrl}/login`, user)\r\n    return req.then(response => response.data)\r\n}\r\n\r\nconst logout = async () => {\r\n     const req = axios.post(`${baseUrl}/logout`)\r\n     return req.then(response => response.data)\r\n}\r\n\r\nconst resetPassword = async (body) => {\r\nconst req = axios.put(`${baseUrl}/reset_password`, body);\r\nreturn req.then(response => response.data)\r\n}\r\n\r\nconst methods = {\r\n    register,\r\n    login,\r\n    logout,\r\n    resetPassword\r\n}\r\n\r\nexport default methods","\r\nimport { useState } from 'react'\r\nimport Auth from '../services/Auth'\r\n\r\nconst LoginForm = ( { show, setUser, setPage, displayMessage } ) => {\r\n\r\nconst [username, setUsername] = useState('')\r\nconst [password, setPassword] = useState('')\r\n\r\nconst handleLogin = (e) => {\r\n    e.preventDefault()\r\n    Auth.login({username, password})\r\n    .then(data => {\r\n      displayMessage(` Successfully logged in as ${data.name}`, 'success', 5)\r\n      window.localStorage.setItem('loggedInUser', JSON.stringify(data))\r\n      setUser(data)\r\n      setUsername('')\r\n      setPassword('')\r\n      setPage('weekly-calendar')\r\n    }).catch(err => {\r\n      displayMessage(`Incorrect username or password`, 'error', 5)\r\n    })\r\n\r\n}\r\n\r\nif (show) {\r\n    return (\r\n    <div className=\"form-container\">\r\n    <div className=\"form-wrapper\" id=\"login-form-wrapper\">\r\n      <form id=\"login-form\" onSubmit={handleLogin}>\r\n        <div>\r\n        <label>\r\n          username\r\n          </label>\r\n          <input id='username'\r\n            type=\"text\"\r\n            value={username}\r\n            name=\"username\"\r\n            onChange={({ target }) => setUsername(target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n        <label>\r\n          password\r\n          </label>\r\n          <input id='password'\r\n            type=\"password\"\r\n            value={password}\r\n            name=\"Password\"\r\n            onChange={({ target }) => setPassword(target.value)}\r\n          />\r\n        </div>\r\n        <button id=\"login-button\" type=\"submit\">login</button>\r\n      </form>\r\n      </div>\r\n    </div>\r\n  )\r\n    } else {\r\n        return null\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport default LoginForm","\r\nimport { useState } from 'react'\r\nimport Auth from '../services/Auth'\r\n\r\nconst SignUpForm = ( { show, setUser, setPage, displayMessage } ) => {\r\n\r\nconst [username, setUsername] = useState('')\r\nconst [firstName, setFirstName] = useState('')\r\nconst [email, setEmail] = useState('')\r\nconst [password, setPassword] = useState('')\r\n\r\nfunction createUser (e)  {\r\n    e.preventDefault()\r\n    const newUser = {\r\n        username, \r\n        firstName,\r\n        email,\r\n        password\r\n    }\r\n    Auth.register(newUser).then(data => {\r\n       displayMessage(`Welcome ${data.name}! You are now logged in`, 'success', 5)\r\n      window.localStorage.setItem('loggedInUser', JSON.stringify(data))\r\n       setUser(data)\r\n       setUsername('')\r\n       setPassword('')\r\n       setFirstName('')\r\n       setEmail('')\r\n       setPage('weekly-calendar')\r\n     \r\n       }).catch(err => {\r\n             displayMessage(`Registration failed: ${err.response.data.message}`, 'error', 5)\r\n             console.log(err)\r\n             return\r\n       })   \r\n     \r\n}\r\n\r\n\r\n\r\nif (show) {\r\n    return (\r\n    <div className=\"form-container\">\r\n    <div className=\"form-wrapper\" id=\"login-form-wrapper\">\r\n      <form id=\"sign-up-form\" onSubmit={createUser}>\r\n        <div>\r\n        <label>\r\n          Username\r\n          </label>\r\n          <input id='username'\r\n            type=\"text\"\r\n            value={username}\r\n            name=\"username\"\r\n            onChange={({ target }) => setUsername(target.value)}\r\n          />\r\n          </div>\r\n          <div>\r\n            <label>\r\n          First name\r\n          </label>\r\n          <input id='first-name'\r\n            type=\"text\"\r\n            value={firstName}\r\n            name=\"firstName\"\r\n            onChange={({ target }) => setFirstName(target.value)}\r\n          />\r\n          </div>\r\n           <div>\r\n            <label>\r\n          Email\r\n          </label>\r\n          <input id='email'\r\n            type=\"email\"\r\n            value={email}\r\n            name=\"email\"\r\n            onChange={({ target }) => setEmail(target.value)}\r\n          />\r\n          </div>\r\n        <div>\r\n        <label>\r\n          Password\r\n          </label>\r\n          <input id='password'\r\n            type=\"password\"\r\n            value={password}\r\n            name=\"Password\"\r\n            onChange={({ target }) => setPassword(target.value)}\r\n          />\r\n        </div>\r\n        <button id=\"sign-up-button\" type=\"submit\">Create account</button>\r\n      </form>\r\n      </div>\r\n    </div>\r\n  )\r\n    } else {\r\n        return null\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport default SignUpForm","import { useEffect, useState } from 'react'\r\nimport Users from '../services/Users'\r\nimport Auth from '../services/Auth'\r\n\r\nconst Account = ( { show, displayMessage }) => {\r\n\r\nconst [formFields, setFormFields] = useState({})\r\nconst [userDetails, setUserDetails] = useState({})\r\nconst [editMode, setEditMode] = useState({})\r\n\r\n\r\n\r\nconst enableEditing = (event) => {\r\nevent.target.previousElementSibling.disabled = false\r\nconst newState = {...editMode}\r\nnewState[event.target.parentElement.id] = true\r\nsetEditMode(newState)\r\n}\r\n\r\nconst handleChange = event => {\r\nconst fieldName = event.target.name\r\nconst newValue = event.target.value\r\n\r\nconst newState = {\r\n    ...formFields\r\n}\r\nnewState[fieldName]['value'] = newValue\r\nsetFormFields(newState)\r\n}\r\n\r\n\r\nconst saveChanges = (event) => {\r\nevent.target.previousElementSibling.disabled = true\r\nconst fieldName = event.target.parentElement.id\r\nconst oldValue = userDetails[fieldName]['value']\r\nconst newValue = formFields[fieldName]['value']\r\n\r\n\r\nconst newState = {\r\n    ...editMode\r\n}\r\n\r\nnewState[fieldName] = false\r\nsetEditMode(newState)\r\n\r\n// Exit without call to server if value has not changed\r\nif (!oldValue) {\r\n    return\r\n}\r\n\r\nconst updateBody = \r\n      {\r\n    'field_name': fieldName,\r\n     'value': newValue,\r\n    \r\n        }\r\n\r\nif (fieldName === 'password') {\r\n\r\n    Auth.resetPassword({new_password: newValue}).then(data => {\r\n    const newUserDetails = {...userDetails, password: data.password}\r\n    setUserDetails(newUserDetails)\r\n    setFormFields(newUserDetails)\r\n    displayMessage(`Password changed`, 'success', 5)\r\n}).catch(err => {\r\n    displayMessage(err.response.data.message, 'error', 5)\r\n    const oldFormFields = {...formFields, 'password': oldValue}\r\n    setFormFields(oldFormFields)\r\n    console.log(err.message)\r\n})\r\n} else {       \r\n\r\nUsers.update(loggedInUser.id, updateBody).then(() => {\r\n    setUserDetails(formFields)\r\n    displayMessage(`Saved changes`, 'success', 5)\r\n}).catch(err => {\r\n    console.log(err)\r\n})\r\n}\r\n\r\n}\r\n\r\nconst loggedInUser = JSON.parse(window.localStorage.getItem('loggedInUser'))\r\n\r\nuseEffect(() => {    \r\n    if (loggedInUser && loggedInUser.id) {\r\n    Users.get(loggedInUser.id).then(data => {\r\n        \r\n        const fields = {\r\n            'first_name': {'value': data.first_name},\r\n            'username': {'value': data.username},\r\n            'password': {'value': data.password},\r\n            'email': {'value': data.email},\r\n            'household_name': { 'value': data.household_name}\r\n        };\r\n        setFormFields(fields)\r\n        setUserDetails(fields);\r\n    }).catch(err => {\r\n        console.log(err)\r\n    })\r\n}\r\n}, [show])\r\n    \r\nif (show) {\r\n\r\n    const { first_name, username, password, email, household_name } = formFields;\r\n\r\n    return (\r\n        <div className='form-container'>\r\n        <div className='form-wrapper'>\r\n        <form>\r\n        <div id=\"first_name\">\r\n        <label><b>Name:</b></label> <input className='account' name='first_name' onChange={(event) => handleChange(event)} value={first_name ? first_name.value : null} disabled/>\r\n        {!editMode.first_name ? <span className='edit-save-field' id='edit_firstName' onClick={(event) => enableEditing(event)} >Edit</span> : null}\r\n        {editMode.first_name ? <span className='edit-save-field' id='save_firstName' onClick={(event) => saveChanges(event)} >Save</span> : null}\r\n        </div>\r\n                <div id=\"username\">\r\n\r\n        <label><b>Username:</b></label> <input className=\"account\" name='username' value={username ? username.value : null} disabled/>\r\n        </div>\r\n         <div id=\"password\">\r\n        <label><b>Password:</b></label> <input className=\"account\" name='password' type='password' onChange={(event) => handleChange(event)} value={password ? password.value : null} disabled/>\r\n         {!editMode.password ? <span className='edit-save-field' id='edit_password' onClick={(event) => enableEditing(event)} >Edit</span> : null}\r\n        {editMode.password ? <span className='edit-save-field' id='save_password' onClick={(event) => saveChanges(event)} >Save</span> : null}\r\n        </div>\r\n        <div id=\"email\">\r\n        <label><b>Email:</b></label> <input className=\"account\" name='email' onChange={(event) => handleChange(event)} value={email ? email.value : null} disabled/>\r\n         {!editMode.email ? <span className='edit-save-field' id='edit_email' onClick={(event) => enableEditing(event)} >Edit</span> : null}\r\n        {editMode.email ? <span className='edit-save-field' id='save_email' onClick={(event) => saveChanges(event)} >Save</span> : null}\r\n       </div>\r\n        <div id=\"email\">\r\n        <label><b>Household name:</b></label> <input className=\"account\" name='household_name' onChange={(event) => handleChange(event)} value={household_name ? household_name.value : null} disabled/>\r\n       </div>\r\n        </form>\r\n        </div>\r\n        </div>\r\n    )\r\n} else {\r\n    return null\r\n}\r\n}\r\n\r\nexport default Account","import { useEffect, useState } from 'react'\r\nimport WeeklyCalendar from './pages/WeeklyCalendar'\r\nimport Recipes from './pages/Recipes'\r\nimport Notification from './components/Notification'\r\nimport LoginForm from './pages/LoginForm'\r\nimport SignUpForm from './pages/SignUpForm'\r\nimport Account from './pages/Account'\r\nimport Auth from './services/Auth'\r\nimport { CgProfile } from 'react-icons/cg'\r\nimport {\r\n  IconContext\r\n} from \"react-icons\";\r\n\r\n\r\nconst App = () => {\r\n\r\nconst [page, setPage] = useState('weekly-calendar')\r\nconst [message, setMessage] = useState('')\r\nconst [isOpen, setIsOpen] = useState(false)\r\nconst [user, setUser] = useState(null)\r\n\r\n\r\nconst displayMessage = (content, type, secondsDuration) => {\r\n  setMessage({content, type})\r\n  setTimeout(() => {\r\n    setMessage('')\r\n  }, secondsDuration * 1000);\r\n}\r\n\r\nuseEffect(() => {\r\n  const loggedInUser = JSON.parse(window.localStorage.getItem('loggedInUser'))\r\n  if (loggedInUser) {\r\n    setUser(loggedInUser)\r\n  } else {\r\n    setPage('login')\r\n  }\r\n  \r\n}, [])\r\n\r\n\r\nconst toggleModal = () => {\r\n  if (!isOpen) {\r\n    setIsOpen(true)\r\n  } else {\r\n    setIsOpen(false)\r\n  }\r\n}\r\n\r\nconst logOut = () => {\r\n  Auth.logout().then(data => {\r\n  window.localStorage.removeItem('loggedInUser')\r\n  setUser(null)\r\n  setPage('login')\r\n  displayMessage('Successfully logged out', 'success', 5)\r\n  })\r\n}\r\n\r\nconst AuthLinks = () => {\r\n\r\n  if (user) {\r\n    return (\r\n      <ul className=\"nav\">\r\n      <li onClick={() => setPage('account')}>\r\n      <IconContext.Provider value={{ size: '1.2rem'}}>\r\n      <CgProfile style={{marginRight: '0.5rem'}}/>\r\n          </IconContext.Provider>\r\n      My Account</li>\r\n       <li className=\"auth\" id=\"logout\" onClick={() => logOut()}>\r\n   Logout </li>\r\n   \r\n</ul>\r\n    )\r\n    } else {\r\n      return (\r\n        <ul className=\"nav\">\r\n<li className=\"auth\" id=\"login\" onClick={() => setPage('login')}>\r\n   Login</li> \r\n<li className=\"auth\" id=\"sign-up\" onClick={() => setPage('sign-up')}>\r\n   Sign up</li> \r\n   </ul>\r\n      )\r\n    }\r\n}\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n   <header>\r\n   <div className='navbar'>\r\n   \r\n   <ul className=\"nav\">\r\n { user ? <li id=\"weekly-calendar\" className=\"brand\" onClick={() => setPage('weekly-calendar')}>\r\n   Weekly planner\r\n   </li> : null}\r\n  { user ? <li id=\"all-recipes\" onClick={() => setPage('recipes')}>Recipes</li> : null }\r\n\r\n   </ul>\r\n   {AuthLinks()}\r\n   </div>\r\n      <Notification message={message}/>\r\n   </header>\r\n   \r\n   <Recipes show={page === 'recipes'} \r\n   message={message}\r\n   displayMessage={displayMessage}\r\n   toggleModal={toggleModal}\r\n   isOpen={isOpen}\r\n   />\r\n   <WeeklyCalendar show={page === 'weekly-calendar'} displayMessage={displayMessage}/> \r\n   <LoginForm setPage={setPage} show={page === 'login'} displayMessage={displayMessage} setUser={setUser}/>\r\n   <SignUpForm show={page === 'sign-up'} displayMessage={displayMessage} user={user} setUser={setUser} setPage={setPage}/>\r\n      <Account loggedInUser={user} show={page === 'account'} displayMessage={displayMessage}/>\r\n\r\n\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}